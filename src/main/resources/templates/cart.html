<html lang="vi" xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
  <title>Fashion Shop</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-type" content="text/html;charset=UTF-8">

  <link href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Condensed|Roboto+Mono|Roboto+Slab&display=swap"
    th:href="@{https://fonts.googleapis.com/css?family=Roboto|Roboto+Condensed|Roboto+Mono|Roboto+Slab&display=swap}"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
    th:href="@{https://fonts.googleapis.com/icon?family=Material+Icons}" rel="stylesheet">

  <!-- boostrap -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
    th:href="@{https://use.fontawesome.com/releases/v5.8.2/css/all.css}"
    integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    th:href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css}">
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.css"
    th:href="@{https://unpkg.com/swiper/swiper-bundle.css}">
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css"
    th:href="@{https://unpkg.com/swiper/swiper-bundle.min.css}">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet"
    th:href="@{https://unpkg.com/aos@2.3.1/dist/aos.css}">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    th:href="@{https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css}"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

  <link rel="stylesheet" type="text/css" media="screen" href="../static/css/main.css" th:href="@{/css/main.css}" />
</head>

<body class="wrapper">
  <header class="main_header">
    <div class="container_header">
      <ul class="nav_list" id="nav_active">
        <li class="nav_list_item"> <a a th:href="@{/}" class="nav_list_item--link"> Trang chủ </a> </li>
        <li class="nav_list_item"><a href="#" class="nav_list_item--link"> Giới thiệu </a> </li>
        <li class="nav_list_item"> <a th:href="@{/products/all}" class="nav_list_item--link"> Sản phẩm </a> </li>
      </ul>
      <ul class="nav_list_right" sec:authorize="isAnonymous()">
        <li class="nav_list_right_item active"> <a th:href="@{/login_page}" class="nav_list_right_item--link"> Đăng nhập
          </a> </li>
        <li class="nav_list_right_item"><a th:href="@{/register_page}" class="nav_list_right_item--link"> Đăng kí </a>
        </li>
      </ul>
      <ul class="nav_list_right" sec:authorize="isAuthenticated()">
        <li class="nav_list_right_item active">
          <a th:href="@{/profilePage}" class="nav_list_right_item--link">
            <span sec:authentication="name"></span>
          </a>
        </li>
        <li class="nav_list_right_item"><a th:href="@{/history}" class="nav_list_right_item--link">Lịch sử</a></li>
        <li class="nav_list_right_item"> <a th:href="@{/j_spring_security_logout}" class="nav_list_right_item--link">
            Đăng xuất </a> </li>
      </ul>
    </div>
  </header>

  <section class="wrapper_a">
    <div class="containers">
      <div class="logo">
        <a th:href="@{/}">
          <img src="../static/images/logo.png" th:src="@{/images/logo.png}" alt="">
        </a>
      </div>
      <div class="box_center">
        <ul class="trending_list" id="trend_active">
          <!-- <li class="trending_list_item active2"><a href="#" class="trending_list_item--link"> Xu hướng tìm
              kiếm</a>
          </li>
          <li class="trending_list_item"><a href="#" class="trending_list_item--link"> Hodie </a></li>
          <li class="trending_list_item"><a href="#" class="trending_list_item--link">Áo khoác jean</a></li> -->
          <li class="trending_list_item"><a href="#" class="trending_list_item--link">&nbsp; </a></li>
        </ul>
        <div class="comboBox">
          <form th:action="@{/products/search}">
            <div class="search_form">
              <input id="input_search" type="text" name="keyword" th:value="${keyword}" placeholder="Tìm kiếm..." required />
              <button class="btn btn_search" type="submit">
                <img src="../static/images/icons/loupe.png" th:src="@{/images/icons/loupe.png}" alt="">
              </button>
            </div>
          </form>
          <div class="buy">
            <a th:href="@{/cart}" class="control_buy">
              <img src="../static/images/icons/buy.png" th:src="@{/images/icons/buy.png}" alt="">
            </a>
          </div>
        </div>
      </div>
    </div>
    <h1 id="tag_profile"> giỏ hàng </h1>
  </section>

  <section class="wrapper_buy">
    <div class="containers">
      <table class="table_add">
        <thead>
          <tr>
            <th style="text-align: center"> STT </th>
            <th style="text-align: center">Ảnh</th>
            <th style="text-align: center">Tên sản phẩm</th>
            <th style="text-align: center">Số lượng</th>
            <th style="text-align: center">Đơn giá</th>
            <th style="text-align: center">Thành tiền</th>
            <th style="text-align: center">Chỉnh sửa</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="item, status : ${cartItems}">
            <div th:with="product = ${item.product}" th:id="'row' + ${status.count}">
              <th>[[${status.count}]]</th>
              <td class="none_padding"><img class="product_image" th:src="@{${product.mainPicPath}}" alt=""></td>
              <td>[[${product.productName}]]</td>
              <td style="text-align: center; width: 140px; white-space: nowrap;">
                <div th:replace="quantity_control :: quantity_control(${item.quantity}, ${item.product.productId})">
                </div>
              </td>
              <td><span>[[${product.productPrice}]] VND</span></td>
              <td><span th:id="'subtotal' + ${product.productId}"
                  class="productSubtotal">[[${item.subtotal}]]</span><span> VND</span></td>
              <td>
                <a class="btn btn_delete link-remove" th:rowNumber="${status.count}"
                  th:href="@{'/cart/remove/' + ${product.productId}}">
                  <span> Xóa </span>
                </a>
              </td>
            </div>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td colspan="1"> TỔNG CỘNG: </td>
            <td colspan="1"><span id="totalAmount"> [Total Amount] </span></td>
            <td colspan="5"> <a class="btn btn_agree" onclick="alert('Xác nhận đơn hàng')" th:href="@{/confirmCartItem}"> Xác nhận </a> </td>
          </tr>
        </tfoot>
      </table>
    </div>
  </section>

  <section class="wrapper_f">
    <div class="containers">
      <div class="wrapper_f_grid">
        <div class="wrapper_f_grid_item">
          <div class="wrapper_f_grid_item_content">
            <div class="logo_footer">
              <div class="logo"></div>
            </div>
            <ul class="contact_list">
              <li class="contact_list_item">
                <div class="contact_logo_icon "></div>
                <p> 65 Triệu Quốc Đạt - Hòa Thọ Đông - <br>
                  Cẩm Lệ - Đà Nẵng </p>
              </li>
              <li class="contact_list_item">
                <div class="contact_logo_icon icon2"></div>
                <p> 0869 90 60 70 </p>
              </li>
              <li class="contact_list_item">
                <div class="contact_logo_icon icon3"></div>
                <p> oliviashop@gmail.com </p>
              </li>
            </ul>
          </div>
        </div>
        <div class="wrapper_f_grid_item">
          <div class="wrapper_f_grid_item_content">
            <div class="heading">
              <h4> giới thiệu </h4>
            </div>
            <ul class="contact_list">
              <li class="contact_list_item">
                <a href="#" class="contact_list_item--link">
                  <p> Về chúng tôi </p>
                </a>
              </li>
              <li class="contact_list_item">
                <a href="#" class="contact_list_item--link">
                  <p> Dịch vụ ưu đãi </p>
                </a>
              </li>
              <li class="contact_list_item">
                <a href="#" class="contact_list_item--link">
                  <p> Thông tin sản phẩm </p>
                </a>
              </li>
              <li class="contact_list_item">
                <a href="#" class="contact_list_item--link">
                  <p> Đội ngũ nhân viên </p>
                </a>
              </li>
            </ul>
          </div>
        </div>
        <div class="wrapper_f_grid_item">
          <div class="wrapper_f_grid_item_content">
            <div class="heading">
              <h4> chính sách </h4>
            </div>
            <ul class="contact_list">
              <li class="contact_list_item">
                <a href="#" class="contact_list_item--link">
                  <p>Quyền riêng tư</p>
                </a>
              </li>
              <li class="contact_list_item">
                <a href="#" class="contact_list_item--link">
                  <p> Sử dụng dịch vụ </p>
                </a>
              </li>
              <li class="contact_list_item">
                <a href="#" class="contact_list_item--link">
                  <p> Góp ý-khiếu nại </p>
                </a>
              </li>
              <li class="contact_list_item">
                <a href="#" class="contact_list_item--link">
                  <p> Nội dung trang web </p>
                </a>
              </li>
            </ul>
          </div>
        </div>
        <div class="wrapper_f_grid_item">
          <div class="wrapper_f_grid_item_content">
            <div class="heading">
              <h4> hỗ trợ </h4>
            </div>
            <ul class="contact_list">
              <li class="contact_list_item">
                <a href="#" class="contact_list_item--link">
                  <p> Đặt hàng Online </p>
                </a>
              </li>
              <li class="contact_list_item">
                <a href="#" class="contact_list_item--link">
                  <p> Đổi trả sản phẩm </p>
                </a>
              </li>
              <li class="contact_list_item">
                <a href="#" class="contact_list_item--link">
                  <p> Thanh toán Online </p>
                </a>
              </li>
              <li class="contact_list_item">
                <a href="#" class="contact_list_item--link">
                  <p> Bảo hành sản phẩm </p>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>
  <footer class="main_footer">
    <div class="wrapper_footer">
      <span>© Copyright 2021 </span>
      <p>Website được phát triển bởi <span style="color:#548ffd" ;> VinhTN </span> </p>
    </div>
  </footer>

  <div th:replace="fragments :: standart_modal">Standard Modal Dialog</div>

  <!-- include scripts.html -->
  <!-- boostrap -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"
    th:src="@{https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js}"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    th:src="@{https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js}"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>

  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    th:src="@{https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js}"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>

  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    th:src="@{https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js}"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>

  <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"
    th:src="@{https://code.jquery.com/jquery-3.6.0.min.js}"></script>


  <script type="text/javascript" src="../static/js/bootstrap.js" th:src="@{/js/bootstrap.js}"></script>

  <script type="text/javascript" src="../static/js/bootstrap.min.js" th:src="@{/js/bootstrap.min.js}"></script>

  <script src="https://unpkg.com/swiper/swiper-bundle.js"
    th:src="@{https://unpkg.com/swiper/swiper-bundle.js}"></script>

  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"
    th:src="@{https://unpkg.com/swiper/swiper-bundle.min.js}"></script>

  <!-- build:js script/script.min.js -->
  <script type="text/javascript" src="../static/js/slick.js" th:src="@{../js/slick.js}"></script>
  <script type="text/javascript" src="../static/js/script.js" th:src="@{../js/script.js}"></script>
  <script type="text/javascript" src="../static/js/shopping_cart.js" th:src="@{/js/shopping_cart.js}"></script>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js" th:src="@{https://unpkg.com/aos@2.3.1/dist/aos.js}"></script>

  <script type="text/javascript">
    contextPath = "[[@{/}]]";
    var crsfHeaderName = "[[${_csrf.headerName}]]";
    var csrfValue = "[[${_csrf.token}]]";
  </script>

</body>

</html>